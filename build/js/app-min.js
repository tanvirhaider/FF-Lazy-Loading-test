"use strict";var childIndex=0,currentIndex=0,stage,adContainer,Objects,Copy;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Stage=function(){function i(e){_classCallCheck(this,i);var t=document.createElement("div"),n;(e.id?t.setAttribute("id",e.id):t.setAttribute("id","willow-ad-stage"),e.class&&(t.className+=e.class),this.stage=t,e.container)?document.querySelector(e.container).appendChild(t):(document.body.setAttribute("id","ad-body"),document.body.appendChild(t));return t}return _createClass(i,[{key:"stageDefaultStyle",value:function e(){this.stage.style.margin="0px",this.stage.style.padding="0px"}}]),i}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Sprite=function(){function d(e){_classCallCheck(this,d);var t=document.createElement("div"),n,t,t,t,t;if(this.obj=t,e.id?t.setAttribute("id",e.id):t.setAttribute("id",""),e.class&&(t.className+=e.class),e.position&&(t.style.position=e.position),e.display&&(t.style.display=e.display),e.width?(t.width=e.width,t.style.width=e.width+"px"):this.width=0,e.height?(t.height=e.height,t.style.height=e.height+"px"):this.height=0,e.image){var i=e.width+"px",o=e.height+"px",n;(n=t.style).width=i,n.height=o,n.backgroundImage="url("+e.image+")",n.backgroundRepeat="no-repeat",e.cover||(n.backgroundSize=i+" "+o)}if(e.button){var r=document.createElement("button");e.button.text&&(r.innerHTML=e.button.text),t.appendChild(r)}if(e.text&&(e.text.color&&(t.style.color=e.text.color),e.text.fontSize&&(t.style.fontSize=e.text.fontSize),e.text.fontFamily&&(t.style.fontFamily=e.text.fontFamily),e.text.maxWidth&&(t.style.maxWidth=e.text.width),e.text.lineHeight&&(t.style.lineHeight=e.text.lineHeight),e.text.fontWeight&&(t.style.fontWeight=e.text.fontWeight),t.innerHTML=e.text.content),e.color){var i=e.width+"px",o=e.height+"px",n;(n=t.style).width=i,n.height=o,n.backgroundColor=e.color}e.gradient&&((n=this.obj.style).width=e.gradient.width+"px",n.height=e.gradient.height+"px",n.background="-webkit-linear-gradient("+e.gradient.direction+","+e.gradient.color1+", "+e.gradient.color2+")",n.background="-o-linear-gradient("+e.gradient.direction+","+e.gradient.color1+", "+e.gradient.color2+")",n.background="-moz-linear-gradient("+e.gradient.direction+","+e.gradient.color1+", "+e.gradient.color2+")",n.background="linear-gradient("+e.gradient.direction+","+e.gradient.color1+", "+e.gradient.color2+")");if(e.container&&e.container.appendChild(t),e.border){var a=document.createElement("div");a.setAttribute("id",e.id+"-Border"),a.style.width=e.width+"px",a.style.height=e.height+"px",a.style.position="absolute",a.style.margin="0px",a.style.zIndex=999999,a.style.border=e.border.thickness+"px solid "+e.border.color,a.style.boxSizing="border-box",a.style.pointerEvents="none",e.border.radius&&(a.style.borderRadius=e.border.radius),t.appendChild(a)}e.click&&((t=this.obj).addEventListener("click",e.click.function,!1),t.style.cursor="pointer");e.over&&((t=this.obj).addEventListener("mouseover",e.over.function,!1),t.style.cursor="pointer");e.out&&((t=this.obj).addEventListener("mouseout",e.out.function,!1),t.style.cursor="pointer");e.mousemove&&(t=this.obj).addEventListener("mousemove",e.mousemove.function,!1);var s=0,l=0,n;(e.x&&(s=e.x),e.y&&(l=e.y),e.z)&&((n=t.style).zIndex=e.z);(e.x||e.y)&&(t.style.transform="translate("+s+"px,"+l+"px)"),e.mask&&(t.style.clip="rect("+e.mask.y+"px,"+(e.mask.x+e.mask.width)+"px,"+(e.mask.y+e.mask.height)+"px,"+e.mask.x+"px)")}return _createClass(d,[{key:"click",value:function e(t){var n=this.obj;n.addEventListener("click",t),n.style.cursor="pointer"}},{key:"over",value:function e(t){var n=this.obj;n.addEventListener("mouseover",t),n.style.cursor="pointer"}},{key:"out",value:function e(t){var n;this.obj.addEventListener("mousemove",t)}}]),d}();function generateAhref(e){console.log(e);var t=document.createElement("div"),n;if(e.id&&t.setAttribute("id",e.id),e.position?t.style.position=e.position:t.style.position="absolute",e.target)var i=document.getElementById(e.target);n=e.container?document.getElementById(e.container):i.parentElement;var o=document.createElement("a");e.link&&o.setAttribute("href",e.link.content),e.link.target?o.setAttribute("target",e.link.target):o.setAttribute("target","_blank"),e.link.function&&(o.onclick=e.link.function),o.appendChild(i),t.appendChild(o),n.appendChild(t)}function init(){var e=document.getElementById("willow-ad-container"),t=document.getElementById("messaging-content");function n(e){console.log(e)}generateAhref({link:{content:"%%CLICK_URL_UNESC%%%%DEST_URL_UNESC%%"},target:"messaging-content",id:"messaging-contentAtag"}),adContainer=new Sprite({id:"adContainer",class:"adContainerStyle",container:t});var i=new Sprite({id:"contentArea",class:"contentArea-style",container:adContainer.obj});setTimeout(function(){var e=new Sprite({id:"logo",class:"logo-style",container:i.obj,image:"[%Logo%]"}),t=new Sprite({id:"cta",class:"cta-style",container:i.obj,text:{content:"[%CTA%]"}})},50),setTimeout(function(){var e=new Sprite({id:"header",class:"header-style",container:i.obj,text:{content:"[%Headline%]"}})},100),setTimeout(function(){var e=new Sprite({id:"summary",class:"summary-style",container:i.obj,text:{content:"[%Summary%]"}})},150),setTimeout(function(){var e=new Sprite({id:"picArea",class:"picArea-style",container:adContainer.obj,image:"[%Image%]"})},200)}init();